# Time in milliseconds for which tmux waits after an escape.
#
# See https://mutelight.org/practical-tmux
# See https://github.com/neovim/neovim/issues/2017#issuecomment-75140861
#set-option -g escape-time 0
#set-option -g repeat-time 325
# Keep quiet and don't display warnings.
set-option -g quiet on
# Interact with xterm clipboard.
set-option -g set-clipboard on
# Window numbering starts from '1', '0' is too far away.
set-option -g base-index 1
# Ring the terminal bell from any window, in URxvt this is disabled, but activity is recorded.
set-option -g bell-action any
set-option -g bell-on-alert on
# Pretend to be 'screen', easier as many scripts already recognise the $TERM string.
set-option -g default-terminal "rxvt-unicode-256color"
# The maximum number of lines held in history, mirror URxvt configuration.
set-option -g history-limit 102400
# Mouse is useful so just go with it.
set-option -g mouse on
# Redraw the status line more frequently than the default.
set-option -g status-interval 5
# Use Vi key bindings on the tmux command line.
set-option -g status-keys vi
# Scrolling with Shift-PageUp/Shift-PageDown.
set-option -ga terminal-overrides ",rxvt-unicode-256color:Tc"
# Disable annoying visual bells.
set-option -g visual-bell off

# Don't choose a window title for me, thank you.
set-window-option -g automatic-rename off
# Preserve any output before running interactive commands, such as Vim.
set-window-option -g alternate-screen on
# Use Vi key bindings for copy/paste operations.
set-window-option -g mode-keys vi
# Watch for activity in windows and highlight on the status line.
set-window-option -g monitor-activity on
# Numbering for panes is same as numbering for windows.
set-window-option -g pane-base-index 1
# Enable xterm-style key sequences and modifiers such as Ctrl, Alt and Shift.
set-window-option -g xterm-keys on
# Allow each window to take up the maximum monitor width/height without forcing others.
set-window-option -g aggressive-resize on

# Turn on window titles.
set -g set-titles on
# See https://github.com/tmux/tmux/blob/5b13dafbab2bc6c3b2aac1af1198df018dd720a1/options-table.c#L295
# See http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man1/tmux.1?query=tmux&sec=1#x464f524d415453
set -g set-titles-string '#T - #S:#I:#W #{session_alerts}'

# Key bindings.
set-option -g prefix C-a
bind-key   C-a send-prefix
unbind-key C-b
unbind-key C-z

# Clipboard manipulation.
bind-key C-c run "tmux save-buffer - |    xsel --input  --clipboard"
bind-key C-v run "tmux set-buffer -- \"$( xsel --output --clipboard )\"; tmux paste-buffer"

# Copy and pasting
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

unbind-key -t vi-copy Enter
unbind-key -t vi-copy Space

# Quick pane cycling with Ctrl-S.
bind-key   C-s select-pane -t :.+
unbind-key o

# Move around panes like in Vim (only in tmux 1.6).
#bind-key j select-pane -D
#bind-key k select-pane -U
#bind-key l select-pane -R
#bind-key h select-pane -L

#unbind-key Up
#unbind-key Down
#unbind-key Left
#unbind-key Right

# Resize panes using Vi-style key bindings.
bind-key -r C-Up resize-pane -U
bind-key -r C-Down resize-pane -D
bind-key -r C-Left resize-pane -L
bind-key -r C-Right resize-pane -R

bind-key -r C-M-Up resize-pane -U 5
bind-key -r C-M-Down resize-pane -D 5
bind-key -r C-M-Left resize-pane -L 5
bind-key -r C-M-Right resize-pane -R 5

unbind-key M-Up
unbind-key M-Down
unbind-key M-Left
unbind-key M-Right

#unbind-key C-Up
#unbind-key C-Down
#unbind-key C-Left
#unbind-key C-Right

# Split window horizontally and vertically.
bind-key | split-window -h -c '#{pane_current_path}'
bind-key - split-window -v -c '#{pane_current_path}'

unbind-key '"'
unbind-key %
bind-key R source-file ~/.tmux.conf \; \
        display-message "source-file done"
# Formatting & Colours.
# This tmux statusbar config was created based on gruvbox colorscheme

set -g status "on"
set -g status-justify "left"
set -g status-left-length "100"
set -g status-right-length "100"
set -g status-right-attr "none"
set -g status-attr "none"
#set -g status-utf8 "on"
set -g status-left-attr "none"
set -g pane-active-border-fg "colour248"
set -g pane-border-fg "colour238"
set -g status-bg "colour237"
set -g message-fg "colour237"
set -g message-bg "colour248"
set -g message-command-fg "colour237"
set -g message-command-bg "colour248"
setw -g window-status-fg "colour237"
setw -g window-status-bg "colour214"
setw -g window-status-attr "none"
setw -g window-status-activity-bg "colour237"
setw -g window-status-activity-attr "none"
setw -g window-status-activity-fg "colour248"
setw -g window-status-separator ""

set -g status-left "#[fg=colour248,bg=colour241] #S #[fg=colour241,bg=colour237,nobold,nounderscore,noitalics]"
set -g status-right "#[fg=colour239,bg=colour237,nobold,nounderscore,noitalics]#[fg=colour246,bg=colour239] %Y-%m-%d  %H:%M #[fg=colour248,bg=colour239,nobold,nounderscore,noitalics]#[fg=colour237,bg=colour248] #h "
setw -g window-status-format "#[fg=colour237,bg=colour239,noitalics]#[fg=colour223,bg=colour239] #I #[fg=colour223,bg=colour239] #W #[fg=colour239,bg=colour237,noitalics]"
setw -g window-status-current-format "#[fg=colour239,bg=colour248,:nobold,nounderscore,noitalics]#[fg=colour239,bg=colour214] #I #[fg=colour239,bg=colour214,bold] #W #[fg=colour214,bg=colour237,nobold,nounderscore,noitalics]"

